<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>报价单管理</title>
		<link rel="stylesheet" type="text/css" href="../easyui/themes/default/easyui.css">
		<link rel="stylesheet" type="text/css" href="../easyui/themes/icon.css">
		<link rel="stylesheet" type="text/css" href="../easyui/demo/demo.css">
		<script type="text/javascript" src="../easyui/jquery.min.js"></script>
		<script type="text/javascript" src="../easyui/jquery.easyui.min.js"></script>
		<link rel="stylesheet" href="../layui/css/layui.css" media="all">
		<script src="../layui/layui.js" charset="utf-8"></script>
		
		<link rel="stylesheet" href="css/style.css" media="all">
		<script src="js/Baojiadanguanli.js" type="text/javascript">
		
			
		</script>

	</head>

	<body style="background-color: whitesmoke;">

		<div class="layui-fluid">
			<div class="layui-col-md12" style="height: 10px;">
			</div>
			<div class="layui-col-md12" style="background-color: #4e4e70;height: 20px;">
				<font color="white">报价单管理</font>
			</div>
			<div class="layui-row layui-col-space8">
				<!--左边开始 -->
				<div class="layui-col-md2" style="height: 650px;">
					<!--搜索框开始 -->
					<div class="layui-col-md12" style="padding-bottom: 2px;">
						<form class="layui-form" action="">
							<div class="layui-form">
								<div class="layui-block">
									<input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="输入关键字搜索" class="layui-input" style="height: 30px; width: 100%;">
									<i id="select" class="layui-icon" style="position: absolute; right: 5px;top: 10px;">&#xe615;</i>
								</div>
							</div>
						</form>
					</div>
					<!--搜索框结束 -->
					<div class="layui-col-md12" style="background-color: #4e4e70;height: 20px;">
						<font color="white">报价单管理</font>
					</div>
					<!--出库单主表开始 -->
					<div class="layui-col-md12" style="height: 620px;">
						<table id="l_dg" name="l_dg" class="easyui-datagrid" data-options="rownumbers:true,
		    toolbar: '#sb',
		    onClickRow: Serch_Ord_1,
		    singleSelect:true,
			autoRowHeight:false,
			pagination:true,
			pageSize:10" style="width: 100%;height: 100%;">
							<thead>
								<tr>
									<th data-options="field:'CGBJ_ID'" align="center" style="width: 85px;height: 25px;">
										<font style="font-size: 12px;">单据编号</font>
									</th>
									<th data-options="field:'CGBJ_CheckName'" align="center" style="width: 70px;height: 25px;">
										<font style="font-size: 12px;"> 审核人</font>
									</th>
									
								</tr>
							</thead>
						</table>
					</div>
					<!--出库单主表结束 -->
				</div>
				<!--左边结束 -->

				<!--右边开始 -->
				<div class="layui-col-md10" style="height: 650px;">
					<!--按钮开始 -->
					<div class="layui-col-md12" style="padding-bottom: 4px;background-color: white;">
						<form  class="layui-form" action="">
							<div class="layui-form" style="margin: 5px 0px 0px 10px;">
								<button id="insert"  type="button" class="layui-btn layui-btn-sm btn">新增</button>
								<button id="save" type="button" class="layui-btn layui-btn-sm btn">保存</button>
								<button id="del" type="button" class="layui-btn layui-btn-sm btn">删除</button>
								<button class="layui-btn layui-btn-sm btn">审核</button>
							</div>
						</form>
					</div>
					<!--按钮结束 -->
					<div class="layui-col-md12" style="background-color: #4e4e70;height: 20px;">
						<font color="white">基本信息</font>
					</div>
					<!--表单开始 -->
					<div class="layui-col-md12" style="background-color: white;padding: 5px 0px; margin-top: 2px;">
						<form id="form_1" name="form_1"  class="layui-form" action="">
							<div class="layui-form-item">
								<table>
									<tr>
										<td>
											<div class="layui-inline" >
												<label class="layui-form-label label">单据编号</label>
												<div class="layui-input-inline">
													<input id="CGBJ_ID" name="CGBJ_ID" type="text"  lay-verify="required|phone" autocomplete="off" class="layui-input input" />
												</div>
											</div>
										</td>
										<td>
											<label class="layui-form-label label" style="margin-left: -100px;">报价日期</label>
												<div class="layui-input-inline">
													<input id="CGBJ_TPDay"name="CGBJ_TPDay" type="text" class="layui-input input" >
													<i class="layui-icon" style="position: absolute; right: 75px;top: 2px;">&#xe637;</i>
												</div>
											
										</td>

										<td>
											<div class="layui-inline" style="margin-left: -100px;">
												<label class="layui-form-label label">审核人</label>
												<div class="layui-input-inline">
													<input id="CGBJ_CheckName" name="CGBJ_CheckName" type="text"  lay-verify="required|phone" autocomplete="off" class="layui-input input" />
												</div>
											</div>
										</td>
									</tr>

									<tr>
										<td>
											<div class="layui-inline">
												<label class="layui-form-label label">审核状态</label>
												<div class="layui-input-inline">
													<input id="CGBJ_States" name="CGBJ_States" type="text"  lay-verify="required|phone" autocomplete="off" class="layui-input input" />
												</div>
											</div>
										</td>
										<td>
											<div class="layui-inline" style="margin-left: -100px;">
												<label class="layui-form-label label"><font style="color: red;">*</font>询价人姓名</label>
												<div class="layui-input-inline">
													<input id="CGBJ_XJName" name="CGBJ_XJName" type="text" lay-verify="required|phone" autocomplete="off" class="layui-input input" />
												</div>
											</div>
										</td>
										<td>
											<div class="layui-inline" style="margin-left: -100px;">
												<label class="layui-form-label label">询价人电话</label>
												<div class="layui-input-inline">
													<input id="CGBJ_Xjphone" name="CGBJ_Xjphone" type="text" lay-verify="required|phone" autocomplete="off" class="layui-input input" />
												</div>
											</div>
										</td>
									</tr>
									<tr>
										<td>
											<div class="layui-inline">
												<label class="layui-form-label label"><font color="red">*</font>报价公司</label>
												<div class="layui-input-inline">
													<input id="CGBJ_BJCom" name="CGBJ_BJCom" type="text" lay-verify="required|phone" autocomplete="off" class="layui-input input" />
												</div>
											</div>
										</td>
										<td>
											<div class="layui-inline" style="margin-left: -100px;">
												<label class="layui-form-label label">供货公司</label>
												<div class="layui-input-inline">
													<input id="CGBJ_GHCom" name="CGBJ_GHCom" type="text"  lay-verify="required|phone" autocomplete="off" class="layui-input input" />
												</div>
											</div>
										</td>
										<td>
											<div class="layui-inline" style="margin-left: -100px;">
												<label class="layui-form-label label">邮箱</label>
												<div class="layui-input-inline">
													<input id="CGBJ_Mail" name="CGBJ_Mail" type="text" lay-verify="required|phone" autocomplete="off" class="layui-input input" />
												</div>
											</div>
										</td>
									</tr>
									
									<tr>
										<td>
											<div class="layui-inline" style="margin-left: -0px;">
												<label class="layui-form-label label">物品类别</label>
												<div class="layui-input-inline">
													<input id="CGBJ_WType" name="CGBJ_WType" type="text" lay-verify="required|phone" autocomplete="off" class="layui-input input" />
												</div>
											</div>
										</td>
										<td>
											<div class="layui-inline" style="margin-left: -100px;">
												<label class="layui-form-label label"><font style="color: red;">*</font>来源单据编号</label>
												<div class="layui-input-inline">
													<input id="CGBJ_SouceId" name="CGBJ_SouceId" type="text" lay-verify="required|phone" autocomplete="off" class="layui-input input" />
												</div>
											</div>
										</td>
										
										<td>
											<div class="layui-inline" style="margin-left: -100px;">
												<label class="layui-form-label label">来源单据名称</label>
												<div class="layui-input-inline">
													<input id="CGBJ_SouceName" name="CGBJ_SouceName" type="text" lay-verify="required|phone" autocomplete="off" class="layui-input input" />
												</div>
											</div>
										</td>
									</tr>
									<tr>
										<td>
											<div class="layui-inline" style="margin-left: 0px;">
												<label class="layui-form-label label">供货地址</label>
												<div class="layui-input-inline">
													<input id="CGBJ_GHAddress" name="CGBJ_GHAddress" type="text" lay-verify="required|phone" autocomplete="off" class="layui-input input" style="width: 560px;"/>
												</div>
											</div>
										</td>
									</tr>
									<tr>
										<td>
											<div class="layui-inline" style="margin-left: 0px;">
												<label class="layui-form-label label">送货地址</label>
												<div class="layui-input-inline">
													<input id="CGBJ_SHAddress" name="CGBJ_SHAddress" type="text" lay-verify="required|phone" autocomplete="off" class="layui-input input" style="width: 560px;"/>
												</div>
											</div>
										</td>
									</tr>
									
								</table>
								<hr style="margin-top: -6px;">
							</div>

						</form>
					</div>
					<!--表单结束 -->

					<!--按钮搜索框开始-->
					<div class="layui-col-md12" style="padding-bottom: 4px;background-color: white;">
						<form class="layui-form" action="">
							<div class="layui-form" style="margin: -15px 0px 0px 10px;">
								<button id="append" type="button" class="layui-btn layui-btn-sm btn">新增物料</button>
								<button id="delw" type="button" class="layui-btn layui-btn-sm btn">删除物料</button>
								<button id="edit-line" type="button" class="layui-btn layui-btn-sm btn">修改物料</button>
								<button id="ok-line" type="button" class="layui-btn layui-btn-sm btn">确定</button>
								<div class="layui-inline">
									<input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="请输入物料名称" class="layui-input" style="width: 250px;height: 30px;">
									<i  class="layui-icon" style="position: absolute; right: 5px;top: 10px;">&#xe615;</i>
								</div>
							</div>
						</form>
					</div>
					<!--按钮搜索框结束-->

					<div class="layui-col-md12" style="background-color: #4e4e70;height: 20px;">
						<font color="white">物料详情</font>
					</div>
					<!--出库单明细开始-->
					<div class="layui-col-md12" style="padding-bottom: 4px;background-color: white;">
						<div class="layui-col-md12" style="height: 454px;">
							<table id="l_dgwl" name="l_dgwl" class="easyui-datagrid" data-options="rownumbers:true,
		    toolbar: '#sb',
		     onClickRow: Serch_Ord_wl,
		    singleSelect:true,
			autoRowHeight:false,
			pagination:true,
			pageSize:10" style="width: 100%;height: 100%;">
								<thead>
									<tr>
										<th data-options="field:'WL_Id',editor:'textbox'" align="center" style="width: 65px;height: 25px;">
											<font style="font-size: 12px;">物料编码</font>
										</th>
										<th data-options="field:'WL_Name',editor:'textbox'" align="center" style="width: 60px;height: 25px;">
											<font style="font-size: 12px;"> 物料名称</font>
										</th>
										<th data-options="field:'Wl_Ggxh',editor:'textbox'" align="center" style="width: 65px;height: 25px;">
											<font style="font-size: 12px;">规格型号</font>
										</th>
										<th data-options="field:'Wl_Danwe',editor:'textbox'" align="center" style="width: 60px;height: 25px;">
											<font style="font-size: 12px;"> 单位</font>
										</th>
										<th data-options="field:'Wl_Num',editor:'textbox'" align="center" style="width: 65px;height: 25px;">
											<font style="font-size: 12px;">数量</font>
										</th>
										<th data-options="field:'Wl_Dj',editor:'textbox'" align="center" style="width: 60px;height: 25px;">
											<font style="font-size: 12px;">单价</font>
										</th>
										<th data-options="field:'Wl_Je',editor:'textbox'" align="center" style="width: 60px;height: 25px;">
											<font style="font-size: 12px;">金额</font>
										</th>
										<th data-options="field:'Wl_yt',editor:'textbox'" align="center" style="width: 65px;height: 25px;">
											<font style="font-size: 12px;">用途</font>
										</th>
										
									</tr>
								</thead>
							</table>
						</div>
					</div>
					<!--出库单明细结束-->
				</div>

			</div>
		</div>
		
		<div id="window" class="easyui-window" title="选择窗体" data-options="modal:true,closed:true,iconCls:'icon-save'" style="width:700px;height:400px;padding:10px;">
				<table id="l_dg1" name="l_dg1" class="easyui-datagrid" data-options="rownumbers:true,
		    toolbar: '#sb1',
		    singleSelect:false,
			autoRowHeight:false,		
			pagination:true,
			pageSize:10" style="width: 100%;height: 100%;">
					<thead>
						<tr>
							<th data-options="field:'WL_Id'" align="center" style="width: 65px;height: 25px;">
								<font style="font-size: 12px;">物料编码</font>
							</th>
							<th data-options="field:'WL_Name'" align="center" style="width: 60px;height: 25px;">
								<font style="font-size: 12px;"> 物料名称</font>
							</th>
							<th data-options="field:'WL_ABC'" align="center" style="width: 65px;height: 25px;">
								<font style="font-size: 12px;">物料类型</font>
							</th>
							<th data-options="field:'Wl_Ggxh'" align="center" style="width: 60px;height: 25px;">
								<font style="font-size: 12px;"> 规格型号</font>
							</th>
							<th data-options="field:'Wl_Gzm'" align="center" style="width: 60px;height: 25px;">
								<font style="font-size: 12px;"> 购置编码</font>
							</th>
						</tr>
					</thead>
				</table>
				<div id="sb1" style="height:auto">
					<a href="javascript:void(0)" id="go" class="easyui-linkbutton">确 认</a>
				</div>
			</div>

			<div id="Rel_Bill_tc" class="easyui-window" title="选择窗体" data-options="modal:true,closed:true,iconCls:'icon-save'" style="width:700px;height:400px;padding:10px;">

			</div>
		</div>

		<!-- 时间js开始-->
		<script>
			layui.use('laydate', function() {
				var laydate = layui.laydate;

				//执行一个laydate实例
				laydate.render({
					elem: '#CGBJ_TPDay' //指定元素
				});
			});
		</script>
		<script>
			layui.use('laydate', function() {
				var laydate = layui.laydate;

				//执行一个laydate实例
				laydate.render({
					elem: '#Date' //指定元素
				});
			});
		</script>

		<!--表单js-->
		<script type="text/javascript">
//			var editIndex = undefined;
//			var editorid = 0;
//
//			function Serch_Ord(rowIndex, rowData) { //查询菜单单据查询刷新模块
//				var Tab_Name = "CUSTOM";
//				var customd = rowData['CUST_ID'];
//				var Titles = " where CUST_ID like '" + customd + "%'";
//
//				if(customd) {
//					//================================================产品主要信息查询========
//					$.post("../php/Form_query.php", {
//							'Tab_name': Tab_Name,
//							'cont': Titles
//						},
//						function(data) {
//							$('#cust_info').form('load', data);
//						}, "json");
//				}
//			}
//			
//			function Serch_left() {
//				var Tab_name = "CUSTOMD";
//				var cust_id = $("#CUSTID").val();
//				var Titles = " where CUST_ID like '" + cust_id + "%'";
//				$.post("../php/Tab_query.php", {
//						'Tab_Name': Tab_name,
//						'Cont': Titles
//					},
//					function(data1) {
//						$("#l_dg").datagrid({
//							data: data1
//						});
//					},
//					"json");
//			}
//
//			function Save_info() {
//				var Tab_Name = "CUSTOM";
//				var customd = $("#CUST_ID").val();
//				var Titles = " where CUST_ID like '" + customd + "%'";
//				var values = $("#cust_info").serializeArray();
//				var ii = values.length;
//
//				Delete_Inf();
//				$.post('../php/Form_save.php', {
//						'atr': values,
//						'Tab_name': Tab_Name,
//						'len': ii
//					},
//					function(data) {
//						$('#msg').html(data);
//					}, "json");
//
//			}
//
//			function Clear_info() { //清除所有窗体
//				$("#cust_info").form('clear');
//				//		$('#dg').datagrid('loadData', { total: 0, rows: [] });
//				//		$('#dg1').datagrid('loadData', { total: 0, rows: [] });
//			}
//
//			function Dele_info() {
//				Delete_Inf();
//				Clear_info();
//				Serch_left();
//
//			}
//
//			function Delete_Inf() {
//				var Tab_Name = "CUSTOM";
//				var customd = $("#CUST_ID").val();
//				var Cont = " where CUST_ID like '" + customd + "%'";
//				if(customd == "") {
//					return;
//				}
//				$.post('../php/Form_dele.php', {
//						'Tab_Name': Tab_Name,
//						'Cont': Cont
//					},
//					function(data) {
//						$('#msg').html(data);
//					}, "json");
//			}
		</script>
		<script>
			//Demo
			layui.use('form', function() {
				var form = layui.form;
				form.render();
				//监听提交
				form.on('submit(formDemo)', function(data) {
					layer.msg(JSON.stringify(data.field));
					return false;
				});
			});
		</script>
	</body>

</html>